"use strict";(self.webpackChunkfcr_web=self.webpackChunkfcr_web||[]).push([[605],{8058:function(e,r,t){t.d(r,{e:function(){return d}});var n=t(4165),a=t(5861),o=t(2764),s=t(1930),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("http://localhost:8080/user/auth",{mail:r,password:t});case 3:if(a=e.sent,200!==(c=a.data).status||!c.data){e.next=8;break}return o.n.setItem("token",c.data),e.abrupt("return",{success:!0,user:c.data.user});case 8:return e.abrupt("return",{success:!1});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.userName,a=r.password,e.prev=1,e.next=4,s.l.post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_PASSOBITUARIO:"c#9o9te4JLCnm5?A",REACT_APP_SERVER_URL_ADD:"http://localhost:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"http://localhost:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"http://localhost:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"http://localhost:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"http://localhost:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"http://localhost:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"http://localhost:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"http://localhost:8080/createRecord/updatePersonales"}.REACT_APP_API_REGISTER_URL,{userName:t,password:a});case 4:return o=e.sent,c=o.data,e.abrupt("return",{success:200===c.status});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.n.getItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0,user:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(alert("logout"),e.prev=1,o.n.removeItem("token")){e.next=5;break}return e.abrupt("return",{success:!1});case 5:return e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),d={login:c,register:u,checkToken:i,logout:l}},1930:function(e,r,t){t.d(r,{l:function(){return p}});var n=t(4165),a=t(5861),o=t(1243),s=t(8058),c=t(2764),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.get(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.post(r,t,{headers:{Authorization:a}});case 4:return u=e.sent,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.post(r,t,{headers:{"Content-Type":"multipart/form-data",Authorization:a}});case 4:return u=e.sent,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.delete(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),p={get:u,post:i,postImage:l,remove:d}},2764:function(e,r,t){t.d(r,{n:function(){return n}});var n={getItem:function(e){var r=sessionStorage.getItem(e);return JSON.parse(r)},setItem:function(e,r){sessionStorage.setItem(e,JSON.stringify(r))},removeItem:function(e){return sessionStorage.removeItem(e)},clearAll:function(){return sessionStorage.clear()}}},8269:function(e,r,t){t.d(r,{$:function(){return h}});var n=t(4165),a=t(5861),o=t(1930),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.get("http://localhost:8080/record");case 3:return r=e.sent,t=r.data,e.abrupt("return",{success:!0,data:t.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.get("".concat("http://localhost:8080/record","/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("http://localhost:8080/record/updateMensajes","/").concat(r),t);case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t,a,s,c,u,i,l,d){var p,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("http://localhost:8080/createRecord/add",{date:r,nombre:t,segundoNombre:a,paterno:s,materno:c,lugarVelatorio:u,lugarResponso:i,fechaResponso:l,lugarCementerio:d});case 3:return p=e.sent,m=p.data,e.abrupt("return",{success:!0,data:m.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t,n,a,o,s,c,u,i){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.postImage("".concat("http://localhost:8080/createRecord/addImage","/").concat(r),t);case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("http://localhost:8080/createRecord/updatePersonales","/").concat(r),{update:t});case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("http://localhost:8080/createRecord/updateFuneral","/").concat(r),{update:t});case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.remove("".concat("http://localhost:8080/createRecord","/delete/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),h={getAllRecords:s,getFilteredRecord:c,addMesagge:u,addObituario:i,addImage:l,updateData:d,updateFuneral:p,removeRecord:m}},3605:function(e,r,t){t.r(r),t.d(r,{default:function(){return C}});var n=t(4165),a=t(5861),o=t(885),s=t(2791),c=t(1087),u=t(1699),i=t(6907),l=t(8956),d=t(1413),p=t(6157),m=t(2701),h=t(8269),f=t(184);var g=function(e){var r=(0,s.useState)({date:"",nombre:"",segundoNombre:"",paterno:"",materno:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1];function i(e){return u((function(r){return(0,d.Z)((0,d.Z)({},r),e)}))}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=(0,d.Z)({},c),e.next=4,h.$.addObituario(t.date,t.nombre,t.segundoNombre,t.paterno,t.materno,t.lugarVelatorio,t.lugarResponso,t.fechaResponso,t.lugarCementerio);case 4:e.sent,u({date:"",nombre:"",segundoNombre:"",paterno:"",materno:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsxs)(m.Z,(0,d.Z)((0,d.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,f.jsx)(m.Z.Header,{closeButton:!0,children:(0,f.jsx)(m.Z.Title,{id:"contained-modal-title-vcenter",children:"Agregar al obituario"})}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsxs)("form",{onSubmit:function(e){return l.apply(this,arguments)},id:"formAdd",className:"formContainer",children:[(0,f.jsx)("h5",{children:"Datos del fallecido"}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"date",children:"Fecha del fallecimiento:"}),(0,f.jsx)("input",{type:"date",id:"date",value:c.date,onChange:function(e){return i({date:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"nombreDeceso",children:"Nombre del fallecido:"}),(0,f.jsx)("input",{type:"text",id:"nombreDeceso",value:c.nombre,onChange:function(e){return i({nombre:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"segundoNombreDeceso",children:"Segundo Nombre del fallecido:"}),(0,f.jsx)("input",{type:"text",id:"segundoNombreDeceso",value:c.segundoNombre,onChange:function(e){return i({segundoNombre:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"paternoDeceso",children:"Apellido paterno:"}),(0,f.jsx)("input",{type:"text",id:"paternoDeceso",value:c.paterno,onChange:function(e){return i({paterno:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"maternoDeceso",children:"Apellido materno:"}),(0,f.jsx)("input",{type:"text",id:"maternoDeceso",value:c.materno,onChange:function(e){return i({materno:e.target.value})}})]}),(0,f.jsx)("h5",{children:"Datos del funeral"}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarVelatorio",children:"lugar velatorio:"}),(0,f.jsx)("input",{type:"text",id:"lugarVelatorio",value:c.lugarVelatorio,onChange:function(e){return i({lugarVelatorio:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarResponso",children:"lugar responso:"}),(0,f.jsx)("input",{type:"text",id:"lugarResponso",value:c.lugarResponso,onChange:function(e){return i({lugarResponso:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"fechaResponso",children:"fecha responso:"}),(0,f.jsx)("input",{type:"date",id:"fechaResponso",value:c.fechaResponso,onChange:function(e){return i({fechaResponso:e.target.value})}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarCementerio",children:"lugar cementerio:"}),(0,f.jsx)("input",{list:"cementerios",type:"text",id:"lugarCementerio",value:c.lugarCementerio,onChange:function(e){return i({lugarCementerio:e.target.value})}}),(0,f.jsxs)("datalist",{id:"cementerios",children:[(0,f.jsx)("option",{value:"Cementerio Parque Angol",children:"Cementerio Parque Angol"}),(0,f.jsx)("option",{value:"Cementerio Parroquial Angol",children:"Cementerio Parroquial Angol"}),(0,f.jsx)("option",{value:"Cementerio municipal Angol",children:"Cementerio Municipal Angol"})]})]})]})}),(0,f.jsxs)(m.Z.Footer,{children:[(0,f.jsx)(p.Z,{onClick:e.onHide,children:"Cerrar"}),(0,f.jsx)(p.Z,{type:"submit",form:"formAdd",className:"btn btn-primary btnAgregar",children:"Agregar"})]})]}))};var v=function(e){(0,s.useEffect)((function(){u(e.data)}),[e.data]);var r=(0,s.useState)({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1],i=function(){u({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),e.onHide()};function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=c.id,a={date:c.date,nombre:c.nombre,segundoNombre:c.segundoNombre,paterno:c.paterno,materno:c.materno},e.next=5,h.$.updateData(t,a);case 5:e.sent,window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsxs)(m.Z,(0,d.Z)((0,d.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:!1,children:[(0,f.jsx)(m.Z.Header,{closeButton:!0,onClick:function(){return i()},children:(0,f.jsx)(m.Z.Title,{id:"contained-modal-title-vcenter",children:"Editar datos personales"})}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsxs)("form",{onSubmit:function(e){return function(e){return l.apply(this,arguments)}(e)},className:"formContainer",id:"formActualizarPersonales",children:[(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"date",children:"Fecha del fallecimiento:"}),(0,f.jsx)("input",{type:"date",name:"date",value:c.date,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{date:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"nombreDeceso",children:"Nombre del fallecido:"}),(0,f.jsx)("input",{type:"text",name:"nombreDeceso",value:c.nombre,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{nombre:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"segundoNombreDeceso",children:"Segundo Nombre del fallecido:"}),(0,f.jsx)("input",{type:"text",name:"segundoNombreDeceso",value:c.segundoNombre,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{segundoNombre:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"paternoDeceso",children:"Apellido paterno:"}),(0,f.jsx)("input",{type:"text",name:"paternoDeceso",value:c.paterno,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{paterno:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"maternoDeceso",children:"Apellido materno:"}),(0,f.jsx)("input",{type:"text",name:"maternoDeceso",value:c.materno,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{materno:e.target.value}))}})]})]})}),(0,f.jsxs)(m.Z.Footer,{children:[(0,f.jsx)(p.Z,{onClick:function(){return i()},children:"Cerrar"}),(0,f.jsx)(p.Z,{type:"submit",form:"formActualizarPersonales",className:"btn btn-primary btnAgregar",children:"Actualizar"})]})]}))};var x=function(e){(0,s.useEffect)((function(){u(e.data)}),[e.data]);var r=(0,s.useState)({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1],i=function(){u({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),e.onHide()};function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=c.id,a={lugarVelatorio:c.lugarVelatorio,lugarResponso:c.lugarResponso,fechaResponso:c.fechaResponso,lugarCementerio:c.lugarCementerio},e.next=5,h.$.updateFuneral(t,a);case 5:e.sent,window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.jsxs)(m.Z,(0,d.Z)((0,d.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:!1,children:[(0,f.jsx)(m.Z.Header,{closeButton:!0,onClick:function(){return i()},children:(0,f.jsx)(m.Z.Title,{id:"contained-modal-title-vcenter",children:"Editar datos de funeral"})}),(0,f.jsx)(m.Z.Body,{children:(0,f.jsxs)("form",{onSubmit:function(e){return function(e){return l.apply(this,arguments)}(e)},className:"formContainer",id:"formActualizarFuneral",children:[(0,f.jsx)("hr",{}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarVelatorio",children:"Lugar Velatorio:"}),(0,f.jsx)("input",{name:"lugarVelatorio",type:"text",value:c.lugarVelatorio,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{lugarVelatorio:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarResponso",children:"Lugar Responso:"}),(0,f.jsx)("input",{name:"lugarResponso",type:"text",value:c.lugarResponso,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{lugarResponso:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"fechaResponso",children:"Fecha Responso:"}),(0,f.jsx)("input",{name:"fechaResponso",type:"date",value:c.fechaResponso,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{fechaResponso:e.target.value}))}})]}),(0,f.jsxs)("div",{className:"inputContainer",children:[(0,f.jsx)("label",{htmlFor:"lugarCementerio",children:"Lugar Cementerio:"}),(0,f.jsx)("input",{type:"text",name:"lugarCementerio",value:c.lugarCementerio,onChange:function(e){return u((0,d.Z)((0,d.Z)({},c),{},{lugarCementerio:e.target.value}))}})]})]})}),(0,f.jsxs)(m.Z.Footer,{children:[(0,f.jsx)(p.Z,{onClick:function(){return i()},children:"Cerrar"}),(0,f.jsx)(p.Z,{type:"submit",form:"formActualizarFuneral",className:"btn btn-primary btnAgregar",children:"Actualizar"})]})]}))},b=t(4853);var Z=function(e){var r=e.url,t=e.id;return(0,f.jsxs)("div",{className:"qrModuleContainer",children:[(0,f.jsx)("div",{className:"qrContainer",children:(0,f.jsx)(b.ZP,{className:"qrCanva",renderAs:"canvas",id:"qr-gen".concat(t),size:400,value:r,level:"H",includeMargin:!0,imageSettings:{width:200,height:200}})}),(0,f.jsx)("button",{className:"qrDownload",onClick:function(){return function(e){var r=document.getElementById("qr-gen".concat(e)).toDataURL("image/png").replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=r,t.download="".concat(e,".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}(t)},children:"Descargar QR"})]})},j=t(8058);var C=function(){var e=(0,s.useState)([]),r=(0,o.Z)(e,2),t=r[0],d=r[1];(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.$.getAllRecords();case 2:r=e.sent,d(r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.length]);var p=(0,s.useState)(!1),m=(0,o.Z)(p,2),b=m[0],C=m[1],R=(0,s.useState)(!1),N=(0,o.Z)(R,2),w=N[0],y=N[1],A=(0,s.useState)(!1),_=(0,o.Z)(A,2),E=_[0],k=_[1],D=(0,s.useState)({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),S=(0,o.Z)(D,2),P=S[0],F=S[1],T=(0,s.useState)({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),I=(0,o.Z)(T,2),V=I[0],L=I[1];function O(){return(O=(0,a.Z)((0,n.Z)().mark((function e(r,t,a,o,s,c){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),L({id:t,lugarVelatorio:a,lugarResponso:o,fechaResponso:s,lugarCementerio:c}),k(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=(0,s.useState)({data:""}),U=(0,o.Z)(z,2),H=U[0],M=U[1];function q(){return(q=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("imgDeceso",H.data),e.next=5,h.$.addImage(r,a);case 5:e.sent&&(M({data:""}),window.location.reload(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e){var r={data:e.target.files[0]};M(r)};function G(){return(G=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.$.removeRecord(r);case 2:e.sent,window.location.reload(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=(0,f.jsx)("svg",{xmlns:"https://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-lg",viewBox:"0 0 16 16",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(i.B6,{children:[(0,f.jsx)(i.ql,{children:(0,f.jsx)("meta",{name:"robots",content:"noindex, nofollow"})}),(0,f.jsx)("title",{children:"Servicios Funerarios Cristo Rey Angol"})]}),(0,f.jsxs)("div",{className:"mnanagerPageMainWrapper",children:[(0,f.jsx)("header",{className:"managerHeaderContainer",children:(0,f.jsx)(u.Z,{})}),(0,f.jsx)(g,{show:b,onHide:function(){return C(!1)}}),(0,f.jsx)(v,{show:w,onHide:function(){return y(!1)},data:P}),(0,f.jsx)(x,{show:E,onHide:function(){return k(!1)},data:V}),(0,f.jsxs)("main",{className:"managerPageMainContainer",children:[(0,f.jsx)("h1",{children:"Manager de Obituario"}),(0,f.jsx)("button",{type:"submit",className:"btnLogoutObituario",onClick:function(){j.e.logout()},children:"Salir"}),(0,f.jsx)("div",{className:"addObituarioContainer",children:(0,f.jsxs)("button",{className:"btnAddObituario","data-bs-toggle":"modal","data-bs-target":"#modalAgregarObituario",onClick:function(){return C(!0)},children:["Agregar al obituario",$]})}),(0,f.jsx)("div",{className:"managerCardsContainer",children:t.map((function(e){return(0,f.jsxs)("div",{className:"managerDecesoCard",children:[(0,f.jsxs)(c.OL,{to:"/obituario/".concat(e._id),className:"managerDecesoPersona",children:[(0,f.jsx)("div",{className:"managerDecesoImagen",children:(0,f.jsx)("img",{src:e.img,alt:""})}),(0,f.jsxs)("h5",{className:"managerDecesoNombres",children:[e.nombre," ",e.segundoNombre," ",e.paterno," ",e.materno]}),(0,f.jsx)("p",{className:"managerDecesoFecha",children:e.date}),(0,f.jsxs)("div",{className:"decesoDataWrapper",children:[(0,f.jsxs)("p",{className:"managerDecesoFechaResponso",children:["fecha responso:",e.fechaResponso]}),(0,f.jsxs)("p",{className:"managerDecesoLugarCementerio",children:["lugar cementerio:",e.lugarCementerio]}),(0,f.jsxs)("p",{className:"managerDecesoLugarResponso",children:["lugar responso:",e.lugarResponso]}),(0,f.jsxs)("p",{className:"managerLugarVelatorio",children:["lugar velatorio:",e.lugarVelatorio]})]})]}),(0,f.jsxs)("div",{className:"controlsWrapper",children:[(0,f.jsxs)("div",{className:"managerDecesoControls",children:[(0,f.jsx)("button",{className:"btnCtrlObituario",onClick:function(r){return function(e,r,t,n,a,o,s){e.preventDefault(),F({id:r,date:t,nombre:n,segundoNombre:a,paterno:o,materno:s}),y(!0)}(r,e._id,e.date,e.nombre,e.segundoNombre,e.paterno,e.materno)},children:"Editar datos personales"}),(0,f.jsx)("button",{className:"btnCtrlObituario","data-bs-toggle":"modal","data-bs-target":"#modalActualizarFuneral",onClick:function(r){return function(e,r,t,n,a,o){return O.apply(this,arguments)}(r,e._id,e.lugarVelatorio,e.lugarResponso,e.fechaResponso,e.lugarCementerio)},children:"Editar datos funeral"})]}),(0,f.jsxs)("form",{className:"formImg",id:"formImg",onSubmit:function(r){return function(e,r){return q.apply(this,arguments)}(e._id,r)},encType:"multipart/form-data",children:[(0,f.jsx)("input",{type:"file",name:"imgDeceso",id:"imgDeceso",accept:"image/*",filename:H.data,onChange:B}),(0,f.jsx)("button",{type:"submit",className:"btnCtrlObituario",children:"Agregar imagen"})]}),(0,f.jsx)(l.Z,{className:"accordion",id:"accordionExample",children:(0,f.jsxs)(l.Z.Item,{eventKey:"0",className:"accordion-item",children:[(0,f.jsx)(l.Z.Header,{className:"accordion-header",id:"headingOne",children:"Eliminar"}),(0,f.jsx)(l.Z.Body,{className:"accordion-body",children:(0,f.jsx)("button",{id:"btnDelete".concat(e._id),className:"btnDeleteObituario",onClick:function(){return function(e){return G.apply(this,arguments)}(e._id)},children:"Eliminar del obituario"})})]})}),(0,f.jsx)(Z,{url:"https://www.cristoreyangol.cl/obituario/".concat(e._id),id:e._id})]})]},e._id)}))})]})]})]})}}}]);
//# sourceMappingURL=605.9a82c53c.chunk.js.map