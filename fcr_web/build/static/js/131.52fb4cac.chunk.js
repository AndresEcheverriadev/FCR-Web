"use strict";(self.webpackChunkfcr_web=self.webpackChunkfcr_web||[]).push([[131],{8058:function(e,r,t){t.d(r,{e:function(){return l}});var n=t(4165),s=t(5861),a=t(2764),u=t(1930),c=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.l.post("https://www.cristoreyangol.cl:8080/user/auth",{password:r});case 3:if(t=e.sent,200!==(s=t.data).status||!s.data){e.next=8;break}return a.n.setItem("token",s.data),e.abrupt("return",{success:!0,user:s.data.user});case 8:return e.abrupt("return",{success:!1});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s,a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.userName,s=r.password,e.prev=1,e.next=4,u.l.post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_SERVER_URL_ADD:"https://www.cristoreyangol.cl:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"https://www.cristoreyangol.cl:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"https://www.cristoreyangol.cl:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"https://www.cristoreyangol.cl:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"https://www.cristoreyangol.cl:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"https://www.cristoreyangol.cl:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"https://www.cristoreyangol.cl:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"https://www.cristoreyangol.cl:8080/createRecord/updatePersonales"}.REACT_APP_API_REGISTER_URL,{userName:t,password:s});case 4:return a=e.sent,c=a.data,e.abrupt("return",{success:200===c.status});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.n.getItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0,user:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.n.removeItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l={login:c,register:o,checkToken:i,logout:p}},1930:function(e,r,t){t.d(r,{l:function(){return f}});var n=t(4165),s=t(5861),a=t(1243),u=t(8058),c=t(2764),o=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,a.Z.get(r,{headers:{Authorization:t}});case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return u.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){var s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c.n.getItem("token"),e.prev=1,e.next=4,a.Z.post(r,t,{headers:{Authorization:s}});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return u.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){var s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=c.n.getItem("token"),e.prev=1,e.next=4,a.Z.post(r,t,{headers:{"Content-Type":"multipart/form-data",Authorization:s}});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return u.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,a.Z.delete(r,{headers:{Authorization:t}});case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return u.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),f={get:o,post:i,postImage:p,remove:l}},2764:function(e,r,t){t.d(r,{n:function(){return i}});var n=t(4165),s=t(5861),a=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem(r),e.abrupt("return",JSON.parse(t));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.setItem(r,JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.removeItem(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.clear());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i={getItem:a,setItem:u,removeItem:c,clearAll:o}},1131:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(4165),s=t(5861),a=t(885),u=t(2791),c=t(7689),o=t(1087);var i=t.p+"static/media/logo.31f66cf914b93d1e468cff4004691119.svg",p=t(6907),l=t(8058),f=t(184);var d=function(){var e=(0,c.s0)(),r=(0,u.useState)(""),t=(0,a.Z)(r,2),d=t[0],w=t[1];function h(){return(h=(0,s.Z)((0,n.Z)().mark((function r(){return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,l.e.login(d);case 2:!0===r.sent.success?e("/manager"):(alert("Password incorrecto"),w(""),window.location.reload(!1));case 4:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.B6,{children:(0,f.jsxs)(p.ql,{children:[(0,f.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,f.jsx)("title",{children:"Servicios Funerarios Cristo Rey Angol-Login"}),(0,f.jsx)("link",{rel:"canonical",href:"https://www.cristoreyangol.cl/"})]})}),(0,f.jsxs)("div",{className:"loginPageMainWrapper",children:[(0,f.jsx)(o.OL,{to:"/",className:"loginLogoContainer",children:(0,f.jsx)("img",{src:i,alt:""})}),(0,f.jsxs)("div",{className:"loginInputContainer",children:[(0,f.jsx)("h4",{children:"Login Obituario"}),(0,f.jsx)("h5",{children:"Introduzca sus credenciales"}),(0,f.jsx)("label",{htmlFor:"password",children:"password"}),(0,f.jsx)("input",{type:"password",onChange:function(e){return w(e.target.value)},name:"password"}),(0,f.jsx)("button",{onClick:function(){return h.apply(this,arguments)},children:"Entrar"})]})]})]})}}}]);
//# sourceMappingURL=131.52fb4cac.chunk.js.map