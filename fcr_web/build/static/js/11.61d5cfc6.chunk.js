(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{102:function(t,e,a){"use strict";a.r(e);var s=a(0),c=a.n(s),r=a(5),o=a(46);e.default=function(){const[t,e]=Object(s.useState)([]);Object(s.useEffect)(()=>{!async function(){const t=await o.a.getAllRecords();e(t.data)}()},[t]);const a=c.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-lg",viewBox:"0 0 16 16"},c.a.createElement("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}));return c.a.createElement(c.a.Fragment,null,null===t||void 0===t?void 0:t.map(t=>c.a.createElement("div",{className:"decesoCard",key:t._id},c.a.createElement(r.b,{to:"/obituario/".concat(t._id),className:"decesoPersona"},c.a.createElement("div",{className:"decesoImagen"},c.a.createElement("img",{src:t.img,alt:""})),c.a.createElement("h5",{className:"decesoNombre"},t.nombre," ",t.paterno)),c.a.createElement("div",{className:"decesoDate"},a,c.a.createElement("p",{className:"decesoFecha"},t.date)))))}},42:function(t,e,a){"use strict";a.d(e,"a",function(){return s});const s={getItem:async t=>{const e=sessionStorage.getItem(t);return JSON.parse(e)},setItem:async(t,e)=>{sessionStorage.setItem(t,JSON.stringify(e))},removeItem:async t=>sessionStorage.removeItem(t),clearAll:async()=>sessionStorage.clear()}},44:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var s=a(113),c=a(45),r=a(42);const o={get:async t=>{const e=r.a.getItem("token");try{return await s.a.get(t,{headers:{Authorization:e}})}catch(a){if(401===a.response.status&&"Request no autorizado"===a.response.statusText)return c.a.logout(),void window.location.replace("/");console.error(a)}},post:async(t,e)=>{const a=r.a.getItem("token");try{return await s.a.post(t,e,{headers:{Authorization:a}})}catch(o){if(401===o.response.status&&"Unauthorized"===o.response.statusText)return c.a.logout(),void window.location.replace("/");console.error(o)}},postImage:async(t,e)=>{const a=r.a.getItem("token");try{return await s.a.post(t,e,{headers:{"Content-Type":"multipart/form-data",Authorization:a}})}catch(o){if(401===o.response.status&&"Unauthorized"===o.response.statusText)return c.a.logout(),void window.location.replace("/");console.error(o)}},remove:async t=>{const e=r.a.getItem("token");try{return await s.a.delete(t,{headers:{Authorization:e}})}catch(a){if(401===a.response.status&&"Request no autorizado"===a.response.statusText)return c.a.logout(),void window.location.replace("/");console.error(a)}}}},45:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var s=a(42),c=a(44);const r={login:async t=>{try{const{data:a}=await c.a.post("https://www.cristoreyangol.cl:8080/user/auth",{password:t});return 200===a.status&&a.data?(s.a.setItem("token",a.data),{success:!0,user:a.data.user}):{success:!1}}catch(e){return{success:!1}}},register:async t=>{let{userName:e,password:a}=t;try{const{data:t}=await c.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_SERVER_URL_ADD:"https://www.cristoreyangol.cl:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"https://www.cristoreyangol.cl:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"https://www.cristoreyangol.cl:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"https://www.cristoreyangol.cl:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"https://www.cristoreyangol.cl:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"https://www.cristoreyangol.cl:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"https://www.cristoreyangol.cl:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"https://www.cristoreyangol.cl:8080/createRecord/updatePersonales"}).REACT_APP_API_REGISTER_URL,{userName:e,password:a});return{success:200===t.status}}catch(s){return{success:!1}}},checkToken:async()=>{try{return await s.a.getItem("token")?{success:!0,user:!0}:{success:!1}}catch(t){return{success:!1}}},logout:async()=>{try{return await s.a.removeItem("token")?{success:!0}:{success:!1}}catch(t){return{success:!1}}}}},46:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var s=a(44);const c={getAllRecords:async()=>{try{const{data:e}=await s.a.get("https://www.cristoreyangol.cl:8080/record");return{success:!0,data:e.data}}catch(t){return{success:!1}}},getFilteredRecord:async t=>{try{const{data:a}=await s.a.get("".concat("https://www.cristoreyangol.cl:8080/record","/").concat(t));return{success:!0,data:a.data}}catch(e){return{success:!1}}},addMesagge:async(t,e)=>{try{const{data:c}=await s.a.post("".concat("https://www.cristoreyangol.cl:8080/record/updateMensajes","/").concat(t),e);return{success:!0,data:c.data}}catch(a){return{success:!1}}},addObituario:async(t,e,a,c,r,o,n,u,d)=>{try{const{data:l}=await s.a.post("https://www.cristoreyangol.cl:8080/createRecord/add",{date:t,nombre:e,segundoNombre:a,paterno:c,materno:r,lugarVelatorio:o,lugarResponso:n,fechaResponso:u,lugarCementerio:d});return{success:!0,data:l.data}}catch(i){return{success:!1}}},addImage:async(t,e)=>{try{const{data:c}=await s.a.postImage("".concat("https://www.cristoreyangol.cl:8080/createRecord/addImage","/").concat(t),e);return{success:!0,data:c.data}}catch(a){return{success:!1}}},updateData:async(t,e)=>{try{const{data:c}=await s.a.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updatePersonales","/").concat(t),{update:e});return{success:!0,data:c.data}}catch(a){return{success:!1}}},updateFuneral:async(t,e)=>{try{const{data:c}=await s.a.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updateFuneral","/").concat(t),{update:e});return{success:!0,data:c.data}}catch(a){return{success:!1}}},removeRecord:async t=>{try{const{data:a}=await s.a.remove("".concat("https://www.cristoreyangol.cl:8080/createRecord","/delete/").concat(t));return{success:!0,data:a.data}}catch(e){return{success:!1}}}}}}]);
//# sourceMappingURL=11.61d5cfc6.chunk.js.map