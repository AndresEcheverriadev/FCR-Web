{"version":3,"sources":["components/ObituarioPage/RecordLoader.js","Services/LocalStorageService.js","Services/HTTPRequestService.js","Services/AuthService.js","Services/RecordsService.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_Services_RecordsService__WEBPACK_IMPORTED_MODULE_2__","RecordLoader","records","setRecords","useState","useEffect","async","response","RecordsService","getAllRecords","data","getRecords","iconCross","React","createElement","xmlns","width","height","fill","className","viewBox","fillRule","d","Fragment","map","deceso","key","_id","NavLink","to","concat","src","img","alt","nombre","paterno","date","LocalStorageService","getItem","sessionStorage","JSON","parse","setItem","value","stringify","removeItem","clearAll","clear","HTTPRequestService","axios__WEBPACK_IMPORTED_MODULE_0__","_AuthService_js__WEBPACK_IMPORTED_MODULE_1__","_LocalStorageService_js__WEBPACK_IMPORTED_MODULE_2__","get","token","axios","url","headers","Authorization","error","status","statusText","AuthService","logout","window","location","replace","console","post","postImage","Content-Type","remove","delete","_LocalStorageService_js__WEBPACK_IMPORTED_MODULE_0__","_HTTPRequestService_js__WEBPACK_IMPORTED_MODULE_1__","login","process","password","success","user","register","userName","_ref","REACT_APP_API_REGISTER_URL","checkToken","_HTTPRequestService_js__WEBPACK_IMPORTED_MODULE_0__","getFilteredRecord","id","addMesagge","msg","addObituario","segundoNombre","materno","lugarVelatorio","lugarResponso","fechaResponso","lugarCementerio","addImage","image","updateData","update","updateFuneral","removeRecord"],"mappings":"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","file":"static/js/11.61d5cfc6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { RecordsService } from \"../../Services/RecordsService\";\r\n\r\nfunction RecordLoader() {\r\n  const [records, setRecords] = useState([]);\r\n  useEffect(() => {\r\n    async function getRecords() {\r\n      const response = await RecordsService.getAllRecords();\r\n      setRecords(response.data);\r\n    }\r\n    getRecords();\r\n    return;\r\n  }, [records]);\r\n\r\n  const iconCross = (\r\n    <svg\r\n      xmlns=\"https://www.w3.org/2000/svg\"\r\n      width=\"16\"\r\n      height=\"16\"\r\n      fill=\"currentColor\"\r\n      className=\"bi bi-plus-lg\"\r\n      viewBox=\"0 0 16 16\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z\"\r\n      />\r\n    </svg>\r\n  );\r\n  return (\r\n    <>\r\n      {records?.map((deceso) => {\r\n        return (\r\n          <div className=\"decesoCard\" key={deceso._id}>\r\n            <NavLink to={`/obituario/${deceso._id}`} className=\"decesoPersona\">\r\n              <div className=\"decesoImagen\">\r\n                <img src={deceso.img} alt=\"\" />\r\n              </div>\r\n              <h5 className=\"decesoNombre\">\r\n                {deceso.nombre} {deceso.paterno}\r\n              </h5>\r\n            </NavLink>\r\n            <div className=\"decesoDate\">\r\n              {iconCross}\r\n              <p className=\"decesoFecha\">{deceso.date}</p>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RecordLoader;\r\n","const getItem = async (key) => {\r\n  const data = sessionStorage.getItem(key);\r\n  return JSON.parse(data);\r\n};\r\n\r\nconst setItem = async (key, value) => {\r\n  sessionStorage.setItem(key, JSON.stringify(value));\r\n};\r\n\r\nconst removeItem = async (key) => sessionStorage.removeItem(key);\r\n\r\nconst clearAll = async () => sessionStorage.clear();\r\n\r\nexport const LocalStorageService = { getItem, setItem, removeItem, clearAll };\r\n","import axios from \"axios\";\r\nimport { AuthService } from \"./AuthService.js\";\r\nimport { LocalStorageService } from \"./LocalStorageService.js\";\r\n\r\nconst get = async (url) => {\r\n  const token = LocalStorageService.getItem(\"token\");\r\n  try {\r\n    const response = await axios.get(url, {\r\n      headers: { Authorization: token },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.response.statusText === \"Request no autorizado\"\r\n    ) {\r\n      AuthService.logout();\r\n      window.location.replace(\"/\");\r\n      return;\r\n    }\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst post = async (url, data) => {\r\n  const token = LocalStorageService.getItem(\"token\");\r\n  try {\r\n    const response = await axios.post(url, data, {\r\n      headers: { Authorization: token },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.response.statusText === \"Unauthorized\"\r\n    ) {\r\n      AuthService.logout();\r\n      window.location.replace(\"/\");\r\n      return;\r\n    }\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst postImage = async (url, data) => {\r\n  const token = LocalStorageService.getItem(\"token\");\r\n  try {\r\n    const response = await axios.post(url, data, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: token,\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.response.statusText === \"Unauthorized\"\r\n    ) {\r\n      AuthService.logout();\r\n      window.location.replace(\"/\");\r\n      return;\r\n    }\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst remove = async (url) => {\r\n  const token = LocalStorageService.getItem(\"token\");\r\n  try {\r\n    const response = await axios.delete(url, {\r\n      headers: { Authorization: token },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    if (\r\n      error.response.status === 401 &&\r\n      error.response.statusText === \"Request no autorizado\"\r\n    ) {\r\n      AuthService.logout();\r\n      window.location.replace(\"/\");\r\n      return;\r\n    }\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const HTTPRequestService = { get, post, postImage, remove };\r\n","import { LocalStorageService } from \"./LocalStorageService.js\";\r\nimport { HTTPRequestService } from \"./HTTPRequestService.js\";\r\n\r\nconst login = async (password) => {\r\n  try {\r\n    // const checkToken = await checkToken();\r\n    // if (checkToken) {\r\n    //   logout();\r\n    // }\r\n    const { data } = await HTTPRequestService.post(\r\n      process.env.REACT_APP_SERVER_URL_LOGIN,\r\n      {\r\n        password,\r\n      }\r\n    );\r\n    if (data.status === 200 && data.data) {\r\n      LocalStorageService.setItem(\"token\", data.data);\r\n      return { success: true, user: data.data.user };\r\n    }\r\n    return { success: false };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst register = async ({ userName, password }) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.post(\r\n      process.env.REACT_APP_API_REGISTER_URL,\r\n      {\r\n        userName,\r\n        password,\r\n      }\r\n    );\r\n    return { success: data.status === 200 };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst checkToken = async () => {\r\n  try {\r\n    const token = await LocalStorageService.getItem(\"token\");\r\n    if (!token) return { success: false };\r\n    return { success: true, user: true };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst logout = async () => {\r\n  try {\r\n    const deleteToken = await LocalStorageService.removeItem(\"token\");\r\n    if (!deleteToken) return { success: false };\r\n    return { success: true };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const AuthService = { login, register, checkToken, logout };\r\n","import { HTTPRequestService } from \"./HTTPRequestService.js\";\r\n\r\nconst getAllRecords = async () => {\r\n  try {\r\n    const { data } = await HTTPRequestService.get(\r\n      process.env.REACT_APP_SERVER_URL_RECORD\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst getFilteredRecord = async (id) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.get(\r\n      `${process.env.REACT_APP_SERVER_URL_RECORD}/${id}`\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst addMesagge = async (id, msg) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.post(\r\n      `${process.env.REACT_APP_SERVER_URL_MESAGGES}/${id}`,\r\n      msg\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst addObituario = async (\r\n  date,\r\n  nombre,\r\n  segundoNombre,\r\n  paterno,\r\n  materno,\r\n  lugarVelatorio,\r\n  lugarResponso,\r\n  fechaResponso,\r\n  lugarCementerio\r\n) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.post(\r\n      process.env.REACT_APP_SERVER_URL_ADD,\r\n      {\r\n        date,\r\n        nombre,\r\n        segundoNombre,\r\n        paterno,\r\n        materno,\r\n        lugarVelatorio,\r\n        lugarResponso,\r\n        fechaResponso,\r\n        lugarCementerio,\r\n      }\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst addImage = async (id, image) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.postImage(\r\n      `${process.env.REACT_APP_SERVER_URL_ADDIMAGE}/${id}`,\r\n      image\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst updateData = async (id, update) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.post(\r\n      `${process.env.REACT_APP_SERVER_URL_UPDATE_PERSONALES}/${id}`,\r\n      {\r\n        update,\r\n      }\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst updateFuneral = async (id, update) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.post(\r\n      `${process.env.REACT_APP_SERVER_URL_UPDATE_FUNERAL}/${id}`,\r\n      {\r\n        update,\r\n      }\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nconst removeRecord = async (id) => {\r\n  try {\r\n    const { data } = await HTTPRequestService.remove(\r\n      `${process.env.REACT_APP_SERVER_URL_DELETE}/delete/${id}`\r\n    );\r\n    return { success: true, data: data.data };\r\n  } catch (error) {\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const RecordsService = {\r\n  getAllRecords,\r\n  getFilteredRecord,\r\n  addMesagge,\r\n  addObituario,\r\n  addImage,\r\n  updateData,\r\n  updateFuneral,\r\n  removeRecord,\r\n};\r\n"],"sourceRoot":""}