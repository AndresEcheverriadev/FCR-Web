"use strict";(self.webpackChunkfcr_web=self.webpackChunkfcr_web||[]).push([[220],{8058:function(e,r,t){t.d(r,{e:function(){return l}});var n=t(4165),a=t(5861),s=t(2764),c=t(1930),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.l.post("https://www.cristoreyangol.cl:8080/user/auth",{password:r});case 3:if(t=e.sent,200!==(a=t.data).status||!a.data){e.next=8;break}return s.n.setItem("token",a.data),e.abrupt("return",{success:!0,user:a.data.user});case 8:return e.abrupt("return",{success:!1});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.userName,a=r.password,e.prev=1,e.next=4,c.l.post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_SERVER_URL_ADD:"https://www.cristoreyangol.cl:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"https://www.cristoreyangol.cl:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"https://www.cristoreyangol.cl:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"https://www.cristoreyangol.cl:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"https://www.cristoreyangol.cl:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"https://www.cristoreyangol.cl:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"https://www.cristoreyangol.cl:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"https://www.cristoreyangol.cl:8080/createRecord/updatePersonales"}.REACT_APP_API_REGISTER_URL,{userName:t,password:a});case 4:return s=e.sent,u=s.data,e.abrupt("return",{success:200===u.status});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.n.getItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0,user:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.n.removeItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l={login:u,register:o,checkToken:p,logout:i}},1930:function(e,r,t){t.d(r,{l:function(){return d}});var n=t(4165),a=t(5861),s=t(1243),c=t(8058),u=t(2764),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.n.getItem("token"),e.prev=1,e.next=4,s.Z.get(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return c.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.n.getItem("token"),e.prev=1,e.next=4,s.Z.post(r,t,{headers:{Authorization:a}});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return c.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.n.getItem("token"),e.prev=1,e.next=4,s.Z.post(r,t,{headers:{"Content-Type":"multipart/form-data",Authorization:a}});case 4:return o=e.sent,e.abrupt("return",o);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return c.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.n.getItem("token"),e.prev=1,e.next=4,s.Z.delete(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return c.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),d={get:o,post:p,postImage:i,remove:l}},2764:function(e,r,t){t.d(r,{n:function(){return p}});var n=t(4165),a=t(5861),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem(r),e.abrupt("return",JSON.parse(t));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.setItem(r,JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.removeItem(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.clear());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p={getItem:s,setItem:c,removeItem:u,clearAll:o}},8269:function(e,r,t){t.d(r,{$:function(){return v}});var n=t(4165),a=t(5861),s=t(1930),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.get("https://www.cristoreyangol.cl:8080/record");case 3:return r=e.sent,t=r.data,e.abrupt("return",{success:!0,data:t.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.get("".concat("https://www.cristoreyangol.cl:8080/record","/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("".concat("https://www.cristoreyangol.cl:8080/record/updateMensajes","/").concat(r),t);case 3:return a=e.sent,c=a.data,e.abrupt("return",{success:!0,data:c.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t,a,c,u,o,p,i,l){var d,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("https://www.cristoreyangol.cl:8080/createRecord/add",{date:r,nombre:t,segundoNombre:a,paterno:c,materno:u,lugarVelatorio:o,lugarResponso:p,fechaResponso:i,lugarCementerio:l});case 3:return d=e.sent,f=d.data,e.abrupt("return",{success:!0,data:f.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t,n,a,s,c,u,o,p){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.postImage("".concat("https://www.cristoreyangol.cl:8080/createRecord/addImage","/").concat(r),t);case 3:return a=e.sent,c=a.data,e.abrupt("return",{success:!0,data:c.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updatePersonales","/").concat(r),{update:t});case 3:return a=e.sent,c=a.data,e.abrupt("return",{success:!0,data:c.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updateFuneral","/").concat(r),{update:t});case 3:return a=e.sent,c=a.data,e.abrupt("return",{success:!0,data:c.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.remove("".concat("https://www.cristoreyangol.cl:8080/createRecord","/delete/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),v={getAllRecords:c,getFilteredRecord:u,addMesagge:o,addObituario:p,addImage:i,updateData:l,updateFuneral:d,removeRecord:f}},3220:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),s=t(885),c=t(2791),u=t(1087),o=t(8269),p=t(184);r.default=function(){var e=(0,c.useState)([]),r=(0,s.Z)(e,2),t=r[0],i=r[1];(0,c.useEffect)((function(){function e(){return(e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.$.getAllRecords();case 2:r=e.sent,i(r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var l=(0,p.jsx)("svg",{xmlns:"https://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-lg",viewBox:"0 0 16 16",children:(0,p.jsx)("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})});return(0,p.jsx)(p.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return(0,p.jsxs)("div",{className:"decesoCard",children:[(0,p.jsxs)(u.OL,{to:"/obituario/".concat(e._id),className:"decesoPersona",children:[(0,p.jsx)("div",{className:"decesoImagen",children:(0,p.jsx)("img",{src:e.img,alt:""})}),(0,p.jsxs)("h5",{className:"decesoNombre",children:[e.nombre," ",e.paterno]})]}),(0,p.jsxs)("div",{className:"decesoDate",children:[l,(0,p.jsx)("p",{className:"decesoFecha",children:e.date})]})]},e._id)}))})}}}]);
//# sourceMappingURL=220.b727c4d7.chunk.js.map