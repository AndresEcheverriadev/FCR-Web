(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{107:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),o=a(1),n=a(5),c=a(81),u=a.n(c),i=a(8),l=(a(82),a(45));t.default=function(){const e=Object(o.m)(),[t,a]=Object(s.useState)("");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,null,r.a.createElement(i.a,null,r.a.createElement("meta",{name:"robots",content:"noindex, nofollow"}),r.a.createElement("title",null,"Servicios Funerarios Cristo Rey Angol-Login"),r.a.createElement("link",{rel:"canonical",href:"https://www.cristoreyangol.cl/"}))),r.a.createElement("div",{className:"loginPageMainWrapper"},r.a.createElement(n.b,{to:"/",className:"loginLogoContainer"},r.a.createElement("img",{src:u.a,alt:""})),r.a.createElement("div",{className:"loginInputContainer"},r.a.createElement("h4",null,"Login Obituario"),r.a.createElement("h5",null,"Introduzca sus credenciales"),r.a.createElement("label",{htmlFor:"password"},"password"),r.a.createElement("input",{type:"password",onChange:e=>a(e.target.value),name:"password"}),r.a.createElement("button",{onClick:async function(){!0===(await l.a.login(t)).success?e("/manager"):(alert("Password incorrecto"),a(""),window.location.reload(!1))}},"Entrar"))))}},42:function(e,t,a){"use strict";a.d(t,"a",function(){return s});const s={getItem:async e=>{const t=sessionStorage.getItem(e);return JSON.parse(t)},setItem:async(e,t)=>{sessionStorage.setItem(e,JSON.stringify(t))},removeItem:async e=>sessionStorage.removeItem(e),clearAll:async()=>sessionStorage.clear()}},44:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(113),r=a(45),o=a(42);const n={get:async e=>{const t=o.a.getItem("token");try{return await s.a.get(e,{headers:{Authorization:t}})}catch(a){if(401===a.response.status&&"Request no autorizado"===a.response.statusText)return r.a.logout(),void window.location.replace("/");console.error(a)}},post:async(e,t)=>{const a=o.a.getItem("token");try{return await s.a.post(e,t,{headers:{Authorization:a}})}catch(n){if(401===n.response.status&&"Unauthorized"===n.response.statusText)return r.a.logout(),void window.location.replace("/");console.error(n)}},postImage:async(e,t)=>{const a=o.a.getItem("token");try{return await s.a.post(e,t,{headers:{"Content-Type":"multipart/form-data",Authorization:a}})}catch(n){if(401===n.response.status&&"Unauthorized"===n.response.statusText)return r.a.logout(),void window.location.replace("/");console.error(n)}},remove:async e=>{const t=o.a.getItem("token");try{return await s.a.delete(e,{headers:{Authorization:t}})}catch(a){if(401===a.response.status&&"Request no autorizado"===a.response.statusText)return r.a.logout(),void window.location.replace("/");console.error(a)}}}},45:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var s=a(42),r=a(44);const o={login:async e=>{try{const{data:a}=await r.a.post("https://www.cristoreyangol.cl:8080/user/auth",{password:e});return 200===a.status&&a.data?(s.a.setItem("token",a.data),{success:!0,user:a.data.user}):{success:!1}}catch(t){return{success:!1}}},register:async e=>{let{userName:t,password:a}=e;try{const{data:e}=await r.a.post(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_SERVER_URL_ADD:"https://www.cristoreyangol.cl:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"https://www.cristoreyangol.cl:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"https://www.cristoreyangol.cl:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"https://www.cristoreyangol.cl:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"https://www.cristoreyangol.cl:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"https://www.cristoreyangol.cl:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"https://www.cristoreyangol.cl:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"https://www.cristoreyangol.cl:8080/createRecord/updatePersonales"}).REACT_APP_API_REGISTER_URL,{userName:t,password:a});return{success:200===e.status}}catch(s){return{success:!1}}},checkToken:async()=>{try{return await s.a.getItem("token")?{success:!0,user:!0}:{success:!1}}catch(e){return{success:!1}}},logout:async()=>{try{return await s.a.removeItem("token")?{success:!0}:{success:!1}}catch(e){return{success:!1}}}}},81:function(e,t,a){e.exports=a.p+"static/media/logo.c41d0683.svg"},82:function(e,t,a){}}]);
//# sourceMappingURL=9.df8bc10a.chunk.js.map