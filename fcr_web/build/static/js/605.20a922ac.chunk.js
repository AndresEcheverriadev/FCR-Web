"use strict";(self.webpackChunkfcr_web=self.webpackChunkfcr_web||[]).push([[605],{8058:function(e,r,t){t.d(r,{e:function(){return d}});var n=t(4165),a=t(5861),o=t(2764),s=t(1930),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.l.post("https://www.cristoreyangol.cl:8080/user/auth",{password:r});case 3:if(t=e.sent,200!==(a=t.data).status||!a.data){e.next=8;break}return o.n.setItem("token",a.data),e.abrupt("return",{success:!0,user:a.data.user});case 8:return e.abrupt("return",{success:!1});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.userName,a=r.password,e.prev=1,e.next=4,s.l.post({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GTM_ID:"G-80E5Y9MEL8",REACT_APP_SERVER_URL_ADD:"https://www.cristoreyangol.cl:8080/createRecord/add",REACT_APP_SERVER_URL_ADDIMAGE:"https://www.cristoreyangol.cl:8080/createRecord/addImage",REACT_APP_SERVER_URL_DELETE:"https://www.cristoreyangol.cl:8080/createRecord",REACT_APP_SERVER_URL_LOGIN:"https://www.cristoreyangol.cl:8080/user/auth",REACT_APP_SERVER_URL_MESAGGES:"https://www.cristoreyangol.cl:8080/record/updateMensajes",REACT_APP_SERVER_URL_RECORD:"https://www.cristoreyangol.cl:8080/record",REACT_APP_SERVER_URL_UPDATE_FUNERAL:"https://www.cristoreyangol.cl:8080/createRecord/updateFuneral",REACT_APP_SERVER_URL_UPDATE_PERSONALES:"https://www.cristoreyangol.cl:8080/createRecord/updatePersonales"}.REACT_APP_API_REGISTER_URL,{userName:t,password:a});case 4:return o=e.sent,c=o.data,e.abrupt("return",{success:200===c.status});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.n.getItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0,user:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.n.removeItem("token");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",{success:!1});case 6:return e.abrupt("return",{success:!0});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),d={login:c,register:u,checkToken:i,logout:l}},1930:function(e,r,t){t.d(r,{l:function(){return p}});var n=t(4165),a=t(5861),o=t(1243),s=t(8058),c=t(2764),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.get(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.post(r,t,{headers:{Authorization:a}});case 4:return u=e.sent,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.post(r,t,{headers:{"Content-Type":"multipart/form-data",Authorization:a}});case 4:return u=e.sent,e.abrupt("return",u);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Unauthorized"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.n.getItem("token"),e.prev=1,e.next=4,o.Z.delete(r,{headers:{Authorization:t}});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),401!==e.t0.response.status||"Request no autorizado"!==e.t0.response.statusText){e.next=14;break}return s.e.logout(),window.location.replace("/"),e.abrupt("return");case 14:console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),p={get:u,post:i,postImage:l,remove:d}},2764:function(e,r,t){t.d(r,{n:function(){return i}});var n=t(4165),a=t(5861),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sessionStorage.getItem(r),e.abrupt("return",JSON.parse(t));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sessionStorage.setItem(r,JSON.stringify(t));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.removeItem(r));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.clear());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i={getItem:o,setItem:s,removeItem:c,clearAll:u}},8269:function(e,r,t){t.d(r,{$:function(){return h}});var n=t(4165),a=t(5861),o=t(1930),s=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.get("https://www.cristoreyangol.cl:8080/record");case 3:return r=e.sent,t=r.data,e.abrupt("return",{success:!0,data:t.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.get("".concat("https://www.cristoreyangol.cl:8080/record","/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("https://www.cristoreyangol.cl:8080/record/updateMensajes","/").concat(r),t);case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t,a,s,c,u,i,l,d){var p,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("https://www.cristoreyangol.cl:8080/createRecord/add",{date:r,nombre:t,segundoNombre:a,paterno:s,materno:c,lugarVelatorio:u,lugarResponso:i,fechaResponso:l,lugarCementerio:d});case 3:return p=e.sent,m=p.data,e.abrupt("return",{success:!0,data:m.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t,n,a,o,s,c,u,i){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.postImage("".concat("https://www.cristoreyangol.cl:8080/createRecord/addImage","/").concat(r),t);case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updatePersonales","/").concat(r),{update:t});case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.post("".concat("https://www.cristoreyangol.cl:8080/createRecord/updateFuneral","/").concat(r),{update:t});case 3:return a=e.sent,s=a.data,e.abrupt("return",{success:!0,data:s.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.l.remove("".concat("https://www.cristoreyangol.cl:8080/createRecord","/delete/").concat(r));case 3:return t=e.sent,a=t.data,e.abrupt("return",{success:!0,data:a.data});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),h={getAllRecords:s,getFilteredRecord:c,addMesagge:u,addObituario:i,addImage:l,updateData:d,updateFuneral:p,removeRecord:m}},3605:function(e,r,t){t.r(r),t.d(r,{default:function(){return C}});var n=t(4165),a=t(5861),o=t(885),s=t(2791),c=t(7689),u=t(1087),i=t(1699),l=t(6907),d=t(8956),p=t(1413),m=t(6157),h=t(2701),f=t(8269),g=t(184);var v=function(e){var r=(0,s.useState)({date:"",nombre:"",segundoNombre:"",paterno:"",materno:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1];function i(e){return u((function(r){return(0,p.Z)((0,p.Z)({},r),e)}))}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=(0,p.Z)({},c),e.next=4,f.$.addObituario(t.date,t.nombre,t.segundoNombre,t.paterno,t.materno,t.lugarVelatorio,t.lugarResponso,t.fechaResponso,t.lugarCementerio);case 4:e.sent,u({date:"",nombre:"",segundoNombre:"",paterno:"",materno:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(h.Z,(0,p.Z)((0,p.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,g.jsx)(h.Z.Header,{closeButton:!0,children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Agregar al obituario"})}),(0,g.jsx)(h.Z.Body,{children:(0,g.jsxs)("form",{onSubmit:function(e){return l.apply(this,arguments)},id:"formAdd",className:"formContainer",children:[(0,g.jsx)("h5",{children:"Datos del fallecido"}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"date",children:"Fecha del fallecimiento:"}),(0,g.jsx)("input",{type:"date",id:"date",value:c.date,onChange:function(e){return i({date:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"nombreDeceso",children:"Nombre del fallecido:"}),(0,g.jsx)("input",{type:"text",id:"nombreDeceso",value:c.nombre,onChange:function(e){return i({nombre:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"segundoNombreDeceso",children:"Segundo Nombre del fallecido:"}),(0,g.jsx)("input",{type:"text",id:"segundoNombreDeceso",value:c.segundoNombre,onChange:function(e){return i({segundoNombre:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"paternoDeceso",children:"Apellido paterno:"}),(0,g.jsx)("input",{type:"text",id:"paternoDeceso",value:c.paterno,onChange:function(e){return i({paterno:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"maternoDeceso",children:"Apellido materno:"}),(0,g.jsx)("input",{type:"text",id:"maternoDeceso",value:c.materno,onChange:function(e){return i({materno:e.target.value})}})]}),(0,g.jsx)("h5",{children:"Datos del funeral"}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarVelatorio",children:"lugar velatorio:"}),(0,g.jsx)("input",{type:"text",id:"lugarVelatorio",value:c.lugarVelatorio,onChange:function(e){return i({lugarVelatorio:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarResponso",children:"lugar responso:"}),(0,g.jsx)("input",{type:"text",id:"lugarResponso",value:c.lugarResponso,onChange:function(e){return i({lugarResponso:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"fechaResponso",children:"fecha responso:"}),(0,g.jsx)("input",{type:"date",id:"fechaResponso",value:c.fechaResponso,onChange:function(e){return i({fechaResponso:e.target.value})}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarCementerio",children:"lugar cementerio:"}),(0,g.jsx)("input",{list:"cementerios",type:"text",id:"lugarCementerio",value:c.lugarCementerio,onChange:function(e){return i({lugarCementerio:e.target.value})}}),(0,g.jsxs)("datalist",{id:"cementerios",children:[(0,g.jsx)("option",{value:"Cementerio Parque Angol",children:"Cementerio Parque Angol"}),(0,g.jsx)("option",{value:"Cementerio Parroquial Angol",children:"Cementerio Parroquial Angol"}),(0,g.jsx)("option",{value:"Cementerio municipal Angol",children:"Cementerio Municipal Angol"})]})]})]})}),(0,g.jsxs)(h.Z.Footer,{children:[(0,g.jsx)(m.Z,{onClick:e.onHide,children:"Cerrar"}),(0,g.jsx)(m.Z,{type:"submit",form:"formAdd",className:"btn btn-primary btnAgregar",children:"Agregar"})]})]}))};var x=function(e){(0,s.useEffect)((function(){u(e.data)}),[e.data]);var r=(0,s.useState)({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1],i=function(){u({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),e.onHide()};function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=c.id,a={date:c.date,nombre:c.nombre,segundoNombre:c.segundoNombre,paterno:c.paterno,materno:c.materno},e.next=5,f.$.updateData(t,a);case 5:e.sent,window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(h.Z,(0,p.Z)((0,p.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:!1,children:[(0,g.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return i()},children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Editar datos personales"})}),(0,g.jsx)(h.Z.Body,{children:(0,g.jsxs)("form",{onSubmit:function(e){return function(e){return l.apply(this,arguments)}(e)},className:"formContainer",id:"formActualizarPersonales",children:[(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"date",children:"Fecha del fallecimiento:"}),(0,g.jsx)("input",{type:"date",name:"date",value:c.date,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{date:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"nombreDeceso",children:"Nombre del fallecido:"}),(0,g.jsx)("input",{type:"text",name:"nombreDeceso",value:c.nombre,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{nombre:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"segundoNombreDeceso",children:"Segundo Nombre del fallecido:"}),(0,g.jsx)("input",{type:"text",name:"segundoNombreDeceso",value:c.segundoNombre,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{segundoNombre:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"paternoDeceso",children:"Apellido paterno:"}),(0,g.jsx)("input",{type:"text",name:"paternoDeceso",value:c.paterno,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{paterno:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"maternoDeceso",children:"Apellido materno:"}),(0,g.jsx)("input",{type:"text",name:"maternoDeceso",value:c.materno,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{materno:e.target.value}))}})]})]})}),(0,g.jsxs)(h.Z.Footer,{children:[(0,g.jsx)(m.Z,{onClick:function(){return i()},children:"Cerrar"}),(0,g.jsx)(m.Z,{type:"submit",form:"formActualizarPersonales",className:"btn btn-primary btnAgregar",children:"Actualizar"})]})]}))};var b=function(e){(0,s.useEffect)((function(){u(e.data)}),[e.data]);var r=(0,s.useState)({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),t=(0,o.Z)(r,2),c=t[0],u=t[1],i=function(){u({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),e.onHide()};function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),t=c.id,a={lugarVelatorio:c.lugarVelatorio,lugarResponso:c.lugarResponso,fechaResponso:c.fechaResponso,lugarCementerio:c.lugarCementerio},e.next=5,f.$.updateFuneral(t,a);case 5:e.sent,window.location.reload(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(h.Z,(0,p.Z)((0,p.Z)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",keyboard:!1,children:[(0,g.jsx)(h.Z.Header,{closeButton:!0,onClick:function(){return i()},children:(0,g.jsx)(h.Z.Title,{id:"contained-modal-title-vcenter",children:"Editar datos de funeral"})}),(0,g.jsx)(h.Z.Body,{children:(0,g.jsxs)("form",{onSubmit:function(e){return function(e){return l.apply(this,arguments)}(e)},className:"formContainer",id:"formActualizarFuneral",children:[(0,g.jsx)("hr",{}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarVelatorio",children:"Lugar Velatorio:"}),(0,g.jsx)("input",{name:"lugarVelatorio",type:"text",value:c.lugarVelatorio,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{lugarVelatorio:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarResponso",children:"Lugar Responso:"}),(0,g.jsx)("input",{name:"lugarResponso",type:"text",value:c.lugarResponso,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{lugarResponso:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"fechaResponso",children:"Fecha Responso:"}),(0,g.jsx)("input",{name:"fechaResponso",type:"date",value:c.fechaResponso,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{fechaResponso:e.target.value}))}})]}),(0,g.jsxs)("div",{className:"inputContainer",children:[(0,g.jsx)("label",{htmlFor:"lugarCementerio",children:"Lugar Cementerio:"}),(0,g.jsx)("input",{type:"text",name:"lugarCementerio",value:c.lugarCementerio,onChange:function(e){return u((0,p.Z)((0,p.Z)({},c),{},{lugarCementerio:e.target.value}))}})]})]})}),(0,g.jsxs)(h.Z.Footer,{children:[(0,g.jsx)(m.Z,{onClick:function(){return i()},children:"Cerrar"}),(0,g.jsx)(m.Z,{type:"submit",form:"formActualizarFuneral",className:"btn btn-primary btnAgregar",children:"Actualizar"})]})]}))},Z=t(4853);var w=function(e){var r=e.url,t=e.id;return(0,g.jsxs)("div",{className:"qrModuleContainer",children:[(0,g.jsx)("div",{className:"qrContainer",children:(0,g.jsx)(Z.ZP,{className:"qrCanva",renderAs:"canvas",id:"qr-gen".concat(t),size:400,value:r,level:"H",includeMargin:!0,imageSettings:{width:200,height:200}})}),(0,g.jsx)("button",{className:"qrDownload",onClick:function(){return function(e){var r=document.getElementById("qr-gen".concat(e)).toDataURL("image/png").replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=r,t.download="".concat(e,".png"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}(t)},children:"Descargar QR"})]})},j=t(8058);var C=function(){var e=(0,s.useState)([]),r=(0,o.Z)(e,2),t=r[0],p=r[1],m=(0,c.s0)();(0,s.useEffect)((function(){function e(){return(e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.$.getAllRecords();case 2:r=e.sent,p(r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.length]);var h=(0,s.useState)(!1),Z=(0,o.Z)(h,2),C=Z[0],R=Z[1],y=(0,s.useState)(!1),N=(0,o.Z)(y,2),A=N[0],k=N[1],E=(0,s.useState)(!1),_=(0,o.Z)(E,2),D=_[0],S=_[1],F=(0,s.useState)({id:"",date:"",nombre:"",segundoNombre:"",paterno:"",materno:""}),P=(0,o.Z)(F,2),T=P[0],V=P[1],I=(0,s.useState)({id:"",lugarVelatorio:"",lugarResponso:"",fechaResponso:"",lugarCementerio:""}),L=(0,o.Z)(I,2),O=L[0],z=L[1];function U(){return(U=(0,a.Z)((0,n.Z)().mark((function e(r,t,a,o,s,c){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),z({id:t,lugarVelatorio:a,lugarResponso:o,fechaResponso:s,lugarCementerio:c}),S(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=(0,s.useState)({data:""}),M=(0,o.Z)(H,2),q=M[0],B=M[1];function G(){return(G=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("imgDeceso",q.data),e.next=5,f.$.addImage(r,a);case 5:e.sent&&(B({data:""}),window.location.reload(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e){var r={data:e.target.files[0]};B(r)};function W(){return(W=(0,a.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.$.removeRecord(r);case 2:e.sent,window.location.reload(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=(0,g.jsx)("svg",{xmlns:"https://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus-lg",viewBox:"0 0 16 16",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})}),J=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.e.logout();case 2:m("/login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.B6,{children:[(0,g.jsx)(l.ql,{children:(0,g.jsx)("meta",{name:"robots",content:"noindex, nofollow"})}),(0,g.jsx)("title",{children:"Servicios Funerarios Cristo Rey Angol"})]}),(0,g.jsxs)("div",{className:"mnanagerPageMainWrapper",children:[(0,g.jsx)("header",{className:"managerHeaderContainer",children:(0,g.jsx)(i.Z,{})}),(0,g.jsx)(v,{show:C,onHide:function(){return R(!1)}}),(0,g.jsx)(x,{show:A,onHide:function(){return k(!1)},data:T}),(0,g.jsx)(b,{show:D,onHide:function(){return S(!1)},data:O}),(0,g.jsxs)("main",{className:"managerPageMainContainer",children:[(0,g.jsx)("h1",{children:"Manager de Obituario"}),(0,g.jsx)("button",{type:"submit",className:"btnLogoutObituario",onClick:function(){return J()},children:"Salir"}),(0,g.jsx)("div",{className:"addObituarioContainer",children:(0,g.jsxs)("button",{className:"btnAddObituario","data-bs-toggle":"modal","data-bs-target":"#modalAgregarObituario",onClick:function(){return R(!0)},children:["Agregar al obituario",K]})}),(0,g.jsx)("div",{className:"managerCardsContainer",children:t.map((function(e){return(0,g.jsxs)("div",{className:"managerDecesoCard",children:[(0,g.jsxs)(u.OL,{to:"/obituario/".concat(e._id),className:"managerDecesoPersona",children:[(0,g.jsx)("div",{className:"managerDecesoImagen",children:(0,g.jsx)("img",{src:e.img,alt:""})}),(0,g.jsxs)("h5",{className:"managerDecesoNombres",children:[e.nombre," ",e.segundoNombre," ",e.paterno," ",e.materno]}),(0,g.jsx)("p",{className:"managerDecesoFecha",children:e.date}),(0,g.jsxs)("div",{className:"decesoDataWrapper",children:[(0,g.jsxs)("p",{className:"managerDecesoFechaResponso",children:["fecha responso:",e.fechaResponso]}),(0,g.jsxs)("p",{className:"managerDecesoLugarCementerio",children:["lugar cementerio:",e.lugarCementerio]}),(0,g.jsxs)("p",{className:"managerDecesoLugarResponso",children:["lugar responso:",e.lugarResponso]}),(0,g.jsxs)("p",{className:"managerLugarVelatorio",children:["lugar velatorio:",e.lugarVelatorio]})]})]}),(0,g.jsxs)("div",{className:"controlsWrapper",children:[(0,g.jsxs)("div",{className:"managerDecesoControls",children:[(0,g.jsx)("button",{className:"btnCtrlObituario",onClick:function(r){return function(e,r,t,n,a,o,s){e.preventDefault(),V({id:r,date:t,nombre:n,segundoNombre:a,paterno:o,materno:s}),k(!0)}(r,e._id,e.date,e.nombre,e.segundoNombre,e.paterno,e.materno)},children:"Editar datos personales"}),(0,g.jsx)("button",{className:"btnCtrlObituario","data-bs-toggle":"modal","data-bs-target":"#modalActualizarFuneral",onClick:function(r){return function(e,r,t,n,a,o){return U.apply(this,arguments)}(r,e._id,e.lugarVelatorio,e.lugarResponso,e.fechaResponso,e.lugarCementerio)},children:"Editar datos funeral"})]}),(0,g.jsxs)("form",{className:"formImg",id:"formImg",onSubmit:function(r){return function(e,r){return G.apply(this,arguments)}(e._id,r)},encType:"multipart/form-data",children:[(0,g.jsx)("input",{type:"file",name:"imgDeceso",id:"imgDeceso",accept:"image/*",filename:q.data,onChange:$}),(0,g.jsx)("button",{type:"submit",className:"btnCtrlObituario",children:"Agregar imagen"})]}),(0,g.jsx)(d.Z,{className:"accordion",id:"accordionExample",children:(0,g.jsxs)(d.Z.Item,{eventKey:"0",className:"accordion-item",children:[(0,g.jsx)(d.Z.Header,{className:"accordion-header",id:"headingOne",children:"Eliminar"}),(0,g.jsx)(d.Z.Body,{className:"accordion-body",children:(0,g.jsx)("button",{id:"btnDelete".concat(e._id),className:"btnDeleteObituario",onClick:function(){return function(e){return W.apply(this,arguments)}(e._id)},children:"Eliminar del obituario"})})]})}),(0,g.jsx)(w,{url:"https://www.cristoreyangol.cl/obituario/".concat(e._id),id:e._id})]})]},e._id)}))})]})]})]})}}}]);
//# sourceMappingURL=605.20a922ac.chunk.js.map